import os
import yaml
from pcdet.datasets.nuscenes import nuscenes_calibration
import numpy as np

calib = cadc_calibration.Calibration('/home/cyz/cadc_tracker/PCDet/data/cadcd/2018_03_06/calib')
print(calib.lidar_to_rect(np.array([[-17.99813181674196, 32.52045143245261, -0.9221325934825185], 
                                    [33.96512040277093, 134.84462147046216,-1.348917510897253],
                                    [6.39555783362782, 61.08589524957631, -1.5948109728734963],
                                    [6.319156313564423, 53.583858332617396,-1.5548908689921164],
                                    [-34.18142897685132, 24.84890557590814, -0.7616092760460385]])))
print(calib.rect_to_lidar(
      calib.lidar_to_rect(np.array([[-17.99813181674196, 32.52045143245261, -0.9221325934825185], 
                                    [33.96512040277093, 134.84462147046216,-1.348917510897253],
                                    [6.39555783362782, 61.08589524957631, -1.5948109728734963],
                                    [6.319156313564423, 53.583858332617396,-1.5548908689921164],
                                    [-34.18142897685132, 24.84890557590814, -0.7616092760460385]]))))
print(calib.lidar_to_img(np.array([[-17.99813181674196, 32.52045143245261, -0.9221325934825185], 
                                    [33.96512040277093, 134.84462147046216,-1.348917510897253],
                                    [6.39555783362782, 61.08589524957631, -1.5948109728734963],
                                    [6.319156313564423, 53.583858332617396,-1.5548908689921164],
                                    [-34.18142897685132, 24.84890557590814, -0.7616092760460385]])))
